{"version":3,"sources":["webpack:///./content/en/makerdao-mcd-faqs/vault.md","webpack:///./src/modules/layouts/mdx_layout.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","useTranslation","locale","t","DEFAULT_LOCALE","allMdx","useStaticQuery","children","pageContext","uri","pagePath","frontmatter","title","description","keywords","featuredImage","status","hideLanguageSelector","hideBreadcrumbs","pathDirs","replace","split","slice","urlNoLocale","join","calculateTreeData","edges","sidenavData","breadcrumbData","languageSelectorData","filter","node","UrlConverter","getLocaleFromPath","fileAbsolutePath","map","value","label","statusProps","text","currentTopSection","useLocation","pathname","_pageTitle","firstHeading","Children","toArray","find","c","undefined","getFirstHeading","pop","hasTopSection","renderSidenav","hideSidenav","renderLanguageSelector","renderBreadcrumbs","seo","contentWidthSubtract","sx","width","display","boundaryElement","dontUpdateHolderHeightWhenSticky","style","position","hideOnBoundaryHit","data","currentPath","as","mt","pl","pr","pb","marginTop","sticky","justifyContent","alignItems","flexWrap","px"],"mappings":"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","file":"component---content-en-makerdao-mcd-faqs-vault-md-5153e8628632f3ba3b97.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/community-portal/community-portal/src/modules/layouts/mdx_layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1>{`Vaults`}</h1>\n    <h2>{`What are Maker Vaults?`}</h2>\n    <p>{`The Maker Vault is a core component of the Maker Protocol, which facilitates the generation of Dai against locked up Collateral.`}</p>\n    <p>{`Vault usage collectively alters the total supply of Dai. Users create Dai by generating it against their Collateral and in-turn destroy Dai when repaying their generated Dai balance. This process happens on-chain, which enables full auditability of circulating Dai and the Collateral backing it.`}</p>\n    <p>{`Vaults are required to be overcollateralized and have a `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md#what-is-the-liquidation-ratio\"\n      }}>{`Liquidation Ratio`}</a>{` that Vault owners need to uphold to avoid the `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md\"\n      }}>{`Liquidation`}</a>{` of their positions. Additionally, a `}<a parentName=\"p\" {...{\n        \"href\": \"#what-is-a-debt-ceiling\"\n      }}>{`Debt Ceiling`}</a>{` is imposed globally on the Maker Protocol, as well as individually on each Vault type.`}</p>\n    <h2>{`How does a Vault work?`}</h2>\n    <p>{`Any user who wishes to generate Dai may deposit Collateral into a Vault and do so, paying a Stability Fee on the generated Dai balance.`}</p>\n    <p>{`Vault users are free to generate or pay back Dai and can add or withdraw Collateral with no time-constraints. As long as Vault owners maintain a minimum `}<a parentName=\"p\" {...{\n        \"href\": \"#what-is-the-collateralization-ratio\"\n      }}>{`Collateralization Ratio`}</a>{`, specified for each Vault type as the `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md#what-is-the-liquidation-ratio\"\n      }}>{`Liquidation Ratio`}</a>{`, they may interact with their Vaults freely. If a Vaultâ€™s Liquidation Ratio is breached, the position gets Liquidated. To read more about Liquidation, visit the `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md\"\n      }}>{`Liquidation FAQ`}</a>{`. If a user wishes to reclaim the full amount of their Collateral, they will need to pay the full amount of Generated Dai back along with the Stability Fees owed.`}</p>\n    <h2>{`What is a Debt Ceiling?`}</h2>\n    <p>{`In the Maker Protocol, a Debt Ceiling is the maximum amount of Dai that can be generated. There are two types of Debt Ceilings. One is a `}<inlineCode parentName=\"p\">{`Global Debt Ceiling`}</inlineCode>{` which limits the amount of Dai that can be generated across the entire system. The other is a Vault-specific `}<inlineCode parentName=\"p\">{`Debt-Ceiling`}</inlineCode>{` that limits how much Dai each Vault type can generate.`}</p>\n    <h2>{`Are there different types of Vaults?`}</h2>\n    <p>{`Yes. Each Collateral type may have multiple Vault types.`}</p>\n    <h2>{`What kind of Collateral can I use?`}</h2>\n    <p>{`In Multi-Collateral Dai, accepted Collateral types are determined by MKR token holders through the `}<a parentName=\"p\" {...{\n        \"href\": \"governance.md\"\n      }}>{`MakerDAO governance process.`}</a>{` For a current list of Collateral types and Vault types, visit `}<a parentName=\"p\" {...{\n        \"href\": \"https://oasis.app/borrow\"\n      }}>{`Oasis Borrow`}</a>{` or other `}<a parentName=\"p\" {...{\n        \"href\": \"https://awesome.makerdao.com/#third-party-vault-portals\"\n      }}>{`Maker Vault front-ends`}</a>{`.`}</p>\n    <h2>{`Who can open a Vault?`}</h2>\n    <p>{`This depends on the type of Vault. While some Vault types are permissionless others may carry requirements. Typically there are no requirements related to prior borrowing history or cumbersome application processes since Vaults are configured according to the risk profile of the underlying Collateral that is being used. Vaults are owned by the Ethereum addresses that create them and can be transferred between wallets freely.`}</p>\n    <h2>{`Are there fees for using a Vault?`}</h2>\n    <p>{`Yes. Vault owners are required to pay a `}<a parentName=\"p\" {...{\n        \"href\": \"stability-fee.md\"\n      }}>{`Stability Fee`}</a>{` on their generated Dai. The rate is expressed as an APR that compounds annually in practice. However, technically speaking, the fees are continuously compounding at a growth rate of x% per year. To learn more about how rate accumulation works visit this `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/rates-module/jug-detailed-documentation\"\n      }}>{`documentation on rates`}</a>{`.`}</p>\n    <p>{`If a Vault becomes undercollateralized, as specified by each Vault typeâ€™s `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md#what-is-the-liquidation-ratio\"\n      }}>{`Liquidation Ratio`}</a>{`, it can be liquidated and have its assets automatically sold to cover the generated Dai. If a Vault is liquidated, a `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md#what-is-the-liquidation-penalty\"\n      }}>{`Liquidation Penalty`}</a>{` is applied to the Generated Dai balance.`}</p>\n    <p>{`The Stability Fee and Liquidation Penalty vary according to the Vault type.`}</p>\n    <h2>{`What is the Collateralization Ratio?`}</h2>\n    <p>{`The Collateralization Ratio is the ratio between the value of the collateral and the value of the Generated Dai on a given Vault.`}</p>\n    <p>{`For example: Let's say the ETH locked in a userâ€™s Vault is worth $150 and 50 Dai was generated. This means the Collateralization Ratio is 300%. For each 1 Dai, there is $3 worth of collateral value backing it. In the Maker Protocol, your Vault may be liquidated if it falls below the `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md#what-is-the-liquidation-ratio\"\n      }}>{`Liquidation Ratio`}</a>{`, which is the minimum Collateralization Ratio. The Liquidation Ratio varies by Vault type.`}</p>\n    <h2>{`What risks are associated with owning a Vault?`}</h2>\n    <p>{`Owning a Vault is inherently risky. There are four major categories of risks to consider when creating a Vault: Market Risks, User Risks, Systemic Risks, and Parameter Variability Risk.`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Market Risks:`}</strong>{` Using a Vault involves generating Dai and transferring ownership of your assets to a smart-contract that can sell your assets in the event of a market downturn. Any Vault with Generated Dai has a Liquidation Price, the price of the underlying asset at which one's Vault would be liquidated. Using a Vault for leverage introduces additional risk. The potential for reward is higher through leverage, but the potential for loss is magnified as well. It is a common practice among users to maintain a high Collateralization Ratio to protect from Market Risks and thereby Liquidation.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`User Risks:`}</strong>{` These are risks associated with user errors. MakerDAO does not possess the ability to reverse any transactions or recover funds sent to incorrect addresses or contracts.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Systemic Risks:`}</strong>{` There are many potential risks facing the successful and continued operation of the Maker Protocol. The following non-exhaustive list highlights some of these risks:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`A malicious hacking attack against the smart-contract infrastructure.`}</li>\n          <li parentName=\"ul\">{`A Black Swan event in one or more Collateral assets.`}</li>\n          <li parentName=\"ul\">{`Failure of centralized infrastructure. E.g., failed internet connections, MetaMask bugs, etc.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Parameter Variability Risk:`}</strong>{` It's important to note that Vault owners are subject to changes in the Risk Parameters that govern the system. This equates to financial risk for the Vault owner. Below is a partial list of parameters that are subject to change:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"stability-fee.md\"\n            }}>{`Stability Fee`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#what-is-a-debt-ceiling\"\n            }}>{`Debt Ceiling`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"liquidation.md#what-is-the-liquidation-penalty\"\n            }}>{`Liquidation Penalty`}</a></li>\n        </ul>\n      </li>\n    </ul>\n    <h2>{`What are Common Practices to limit risk?`}</h2>\n    <p>{`Market risks can be mitigated by using price alerts, maintaining a higher `}<a parentName=\"p\" {...{\n        \"href\": \"#what-is-the-collateralization-ratio\"\n      }}>{`Collateralization Ratio`}</a>{`, monitoring the health of your Vault regularly, and keeping enough reserves outside of your Vault to payback Generated Dai or to add to your deposited collateral. Many people can find themselves over-extended or may find they tend to make risky bets on market movements. This can lead to the `}<a parentName=\"p\" {...{\n        \"href\": \"liquidation.md\"\n      }}>{`Liquidation`}</a>{` of their Vaults resulting in financial loss.`}</p>\n    <p>{`User risks can be mitigated by using small test amounts beforehand, and by thoroughly checking which addresses one is interacting with.`}</p>\n    <h2>{`How would a flash crash on a single exchange affect the Liquidation of Vaults?`}</h2>\n    <p>{`A flash crash on a single exchange will not affect the system as each Oracle aggregates prices from many sources and uses a median for reference prices. Using a median naturally filters out broken prices, as a price from an exchange that has experienced a flash crash. You can read more about the Maker Protocolâ€™s Oracle System in the `}<a parentName=\"p\" {...{\n        \"href\": \"oracles.md\"\n      }}>{`Oracle FAQ`}</a>{`.`}</p>\n    <h2>{`Where can I view live information about Liquidations?`}</h2>\n    <p>{`Liquidations occur on-chain, so anyone can pull the data themselves. Several MakerDAO analytics dashboards already exist. You can see a `}<a parentName=\"p\" {...{\n        \"href\": \"https://awesome.makerdao.com/#watch-dai\"\n      }}>{`list of them`}</a>{` in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://awesome.makerdao.com\"\n      }}>{`Awesome-MakerDAO`}</a>{` resource repository.`}</p>\n    <h2>{`Where can I find more technical information about Vaults?`}</h2>\n    <p>{`Visit our `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/\"\n      }}>{`Documentation Portal`}</a>{` for all technical documentation of the Maker Protocol. Technical documentation about Vaults Fee can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/rates-module/jug-detailed-documentation\"\n      }}>{`Jug - Detailed Documentation`}</a>{` subsection of our Documentation Portal. Documentation about how Rates work in the Maker Protocol can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.makerdao.com/smart-contract-modules/rates-module\"\n      }}>{`Rates Module`}</a>{` section of our Documentation Portal.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","/** @jsx jsx */\nimport {Children, Fragment} from 'react';\nimport { Box, Flex, jsx } from \"theme-ui\";\nimport Sticky from \"react-sticky-el\";\nimport { useStaticQuery, graphql } from \"gatsby\";\nimport { useLocation } from \"@reach/router\";\n\nimport {MobileNav} from '@modules/navigation';\nimport { useTranslation } from \"@modules/localization/\";\nimport { LanguageSelector } from \"@modules/localization\";\nimport { Sidenav, Breadcrumbs } from \"@modules/navigation\";\nimport { StatusBanner } from \"@modules/ui\";\nimport calculateTreeData from \"@modules/navigation/calculateTreeData\";\nimport { SEO } from \"@modules/utility\";\nimport { UrlConverter, getLocaleFromPath } from \"@utils\";\n\nexport default (props) => {\n  const { locale, t, DEFAULT_LOCALE } = useTranslation();\n\n  const { allMdx } = useStaticQuery(graphql`\n    query getMDXData {\n      # Regex for all files that are NOT config files\n      allMdx(\n        filter: {\n          fileAbsolutePath: {\n            regex: \"//([\\\\\\\\w]{2})/(?!header.mdx|index.mdx|sidenav.mdx|example.mdx|social.mdx|footer.mdx|404.mdx|.js|.json)/\"\n          }\n        }\n      ) {\n        edges {\n          node {\n            headings(depth: h1) {\n              value\n            }\n            fileAbsolutePath\n            frontmatter {\n              title\n              order\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  const { children, pageContext, uri } = props;\n\n  const {pagePath} = pageContext; \n  const {\n    title,\n    description,\n    keywords,\n    featuredImage,\n    status,\n    hideLanguageSelector,\n    hideBreadcrumbs,\n  } = pageContext.frontmatter;\n\n  const pathDirs = pagePath.replace(/^\\/|\\/$/g, \"\").split(\"/\").slice(1);\n  const urlNoLocale = pathDirs.join(\"/\");\n  \n  const { sidenavData, breadcrumbData } = calculateTreeData(\n    allMdx.edges,\n    pathDirs[0],\n    DEFAULT_LOCALE,\n    locale,\n    pathDirs\n  );\n\n  //NOTE(Rejon): Must be in the shape that React Select expects for it's options.\n  //Something that can be queried? \n  const languageSelectorData = allMdx.edges\n    .filter(({ node }) => {\n      //Drop the end slash, remove the locale, compare the string\n      //TODO(Rejon): This works for now, but can probably be optimized with a Regex solution.\n      const nodeURL = UrlConverter(node)\n        .replace(/^\\/|\\/$/g, \"\")\n        .split(\"/\")\n        .slice(1)\n        .join(\"/\");\n\n      return (\n        nodeURL === urlNoLocale &&\n        getLocaleFromPath(node.fileAbsolutePath) !== locale\n      );\n    })\n    .map(({ node }) => ({\n      value: UrlConverter(node),\n      label: t(\n        \"Language\",\n        null,\n        null,\n        getLocaleFromPath(node.fileAbsolutePath)\n      ),\n    }));\n\n  const statusProps =\n    typeof status === \"object\"\n      ? { children: status.text, ...status }\n      : { children: status };\n\n  const { pathname } = useLocation();\n  const path = pathname.split(\"/\");\n  const currentTopSection = path[2];\n\n  //For the sake of SEO we may want the page title to be based on the first h1 in our MDX file.\n  //if no title is specified in the metadata.\n  const getFirstHeading = () => {\n    //NOTE(Rejon): The children of layouts provided are MDX components!\n    //Find the first mdx child that's an H1\n    const firstHeading = Children.toArray(children).find(\n      (c) => c.props.mdxType === \"h1\"\n    );\n\n    //If we have an h1 in our file return it.\n    if (firstHeading !== undefined) {\n      return firstHeading.props.children;\n    }\n\n    return undefined;\n  };\n\n  //SEO page title priority is: frontmatter title -> First H1 in mdx -> Filename fallback from uri\n  //NOTE(Rejon): If the page is an index of a directory, the uri split will be the name of the directory. ie. /en/bounties -> bounties\n  const _pageTitle = title || getFirstHeading() || uri.split(\"/\").pop();\n\n  const hasTopSection =\n    currentTopSection !== undefined && currentTopSection !== \"\";\n\n  const renderSidenav = pageContext.frontmatter && !pageContext.frontmatter.hideSidenav && hasTopSection;\n  const renderLanguageSelector = hasTopSection && !hideLanguageSelector;\n  const renderBreadcrumbs = (!hideBreadcrumbs || (hasTopSection && !hideLanguageSelector));\n\n  const seo = {\n    title: _pageTitle,\n    description,\n    keywords,\n    featuredImage,\n  };\n\n  let contentWidthSubtract = renderLanguageSelector ? 234 : 0; //NOTE(Rejon): Based on word from design, language selector being hidden doesn't change content width.\n\n  if (renderSidenav) {\n    contentWidthSubtract += 256;\n  }\n\n\n  return (\n    <Fragment>\n      {renderSidenav\n          &&\n          <Box\n            sx={{\n              width: \"256px\",\n              display: [\"none\", \"none\", \"initial\"],\n            }}\n          >\n          <Sticky\n            boundaryElement=\".content-boundary\"\n            dontUpdateHolderHeightWhenSticky={true}\n            style={{ position: \"relative\" }}\n            hideOnBoundaryHit={false}\n            sx={{display: [\"none\", \"none\", \"initial\"]}}\n          >\n            <Sidenav data={sidenavData} currentPath={pagePath}/>\n          </Sticky>\n        </Box>\n      }\n      <Box as=\"article\" sx={{\n        width: ['100%', '100%', `calc(100% - ${contentWidthSubtract}px)`],\n        mt: hasTopSection ? [4, 4, \"59px\"] : 0,\n        pl: hasTopSection ? [4, 4, \"64px\"] : 0,\n        pr: hasTopSection ? [4, 4, 0] : 0,\n        pb: 4,\n        \n      }}>\n      <SEO {...seo} />\n      \n      {status && (\n        <Box sx={{ marginTop: hasTopSection ? 2 : 0 }}>\n          <StatusBanner sticky {...statusProps} sx={{ width: \"100%\" }} />\n        </Box>\n      )}\n      {renderBreadcrumbs && \n        <Flex\n          sx={{\n            justifyContent: \"space-between\",\n            position: \"relative\",\n            alignItems: \"flex-start\",\n            flexWrap: [\"wrap\", \"wrap\", \"unset\"],\n            px: !hasTopSection ? [3, 3, 0] : 0,\n          }}\n        >\n          <Breadcrumbs data={breadcrumbData} pathDirs={pathDirs}/>\n        </Flex>\n      }\n      <Box sx={{display: ['block', 'block', 'none']}}>\n        {/* MOBILE LANGUAGE SELECTOR */}\n        {renderLanguageSelector && <LanguageSelector data={languageSelectorData} pagePath={pagePath}/>}\n      </Box>\n      <Box>\n        {children}\n      </Box>\n      </Box>\n      \n      <Box sx={{display: ['none', 'none', 'block']}}>\n        {/* DESKTOP LANGUAGE SELECTOR */}\n        {renderLanguageSelector && <LanguageSelector data={languageSelectorData} pagePath={pagePath}/>}\n      </Box>\n      <MobileNav sidenavData={sidenavData}/>\n    </Fragment>\n  );\n};\n"],"sourceRoot":""}